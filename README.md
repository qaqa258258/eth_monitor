# ETH合约开单提醒系统

基于BOLL(布林带)指标的ETH合约交易信号提醒系统,RSI作为参考指标。支持命令行监控和Streamlit可视化界面。

## 📁 项目结构

```
eth_monitor/
├── config.json           # 配置文件
├── data_fetcher.py       # 数据获取模块
├── indicator.py          # 技术指标计算模块
├── signal_detector.py    # 信号检测和告警模块
├── main.py              # 命令行监控脚本
├── streamlit_app.py     # Streamlit可视化应用
├── requirements.txt     # 依赖包清单
└── README.md           # 本文件
```

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置参数

编辑 `config.json` 文件，修改以下配置：

```json
{
  "proxy": "http://127.0.0.1:10808",  # 你的代理地址
  "symbol": "ETH/USDT",               # 交易对
  "timeframe": "15m",                 # K线周期
  "check_interval": 60,               # 检查间隔(秒)
  "boll": {
    "period": 20,                     # BOLL周期
    "std_dev": 2                      # 标准差倍数
  },
  "rsi": {
    "period": 14,                     # RSI周期
    "overbought": 70,                 # 超买阈值
    "oversold": 30                    # 超卖阈值
  },
  "telegram": {
    "bot_token": "",                  # Telegram Bot Token (可选)
    "chat_id": ""                     # Telegram Chat ID (可选)
  }
}
```

### 3. 运行方式

#### 方式一：命令行监控

```bash
python main.py
```

实时在控制台显示价格、指标和交易信号。

#### 方式二：Streamlit可视化界面

```bash
streamlit run streamlit_app.py
```

在浏览器中查看实时K线图表、指标和信号提醒。


## 📊 交易策略

### BOLL布林带策略 (RSI仅作参考)

**🟢 做多信号(开多单):**
- **触发条件**: 价格触及或跌破BOLL下轨
- **参考信息**: RSI数值(通常在超卖区域)
- **建议**: 等待价格回升至下轨上方后入场

**🔴 做空信号(开空单):**
- **触发条件**: 价格触及或突破BOLL上轨
- **参考信息**: RSI数值(通常在超买区域)
- **建议**: 等待价格回落至上轨下方后入场

**⬆️ 平多信号:**
- **触发条件**: 持有多单且价格回到中轨以上
- **参考信息**: RSI数值

**⬇️ 平空信号:**
- **触发条件**: 持有空单且价格回到中轨以下
- **参考信息**: RSI数值


## 💡 功能特性

### 数据获取
- ✅ 实时从币安交易所获取价格数据
- ✅ 支持多种时间周期（1m, 5m, 15m, 1h, 4h, 1d等）
- ✅ 自动处理网络连接和代理

### 技术指标
- ✅ BOLL布林带（上轨、中轨、下轨）
- ✅ RSI相对强弱指数
- ✅ 可自定义参数

### 信号检测
- ✅ 基于BOLL布林带策略(RSI作为参考)
- ✅ 信号强度评分(0-100)
- ✅ 详细的信号原因说明

### 告警系统
- ✅ 控制台实时提醒
- ✅ Telegram消息推送（可选）
- ✅ 信号历史记录保存

### 可视化界面
- ✅ 实时K线图表
- ✅ BOLL和RSI指标叠加显示
- ✅ 交易信号提醒面板
- ✅ 历史信号记录表格
- ✅ 参数动态调整
- ✅ 自动刷新功能

## ⚙️ 配置说明

### 时间周期选择建议

- **1m, 5m**: 超短线交易，信号频繁但噪音多
- **15m, 30m**: 短线交易，平衡信号质量和频率（推荐）
- **1h, 4h**: 中长线交易，信号更可靠但更新慢
- **1d**: 长线交易，趋势明确

### BOLL参数说明

- **period**: 移动平均周期，默认20
- **std_dev**: 标准差倍数，默认2.0
  - 增大：轨道更宽，信号更少但更可靠
  - 减小：轨道更窄，信号更频繁但可能有假信号

### RSI参数说明

- **period**: RSI计算周期，默认14
- **overbought**: 超买线，默认70
- **oversold**: 超卖线，默认30

## 📝 注意事项

1. **网络代理**：国内用户需要配置代理才能连接币安交易所
2. **信号仅供参考**：本系统仅提供技术指标分析，不构成投资建议
3. **风险控制**：合约交易风险极高，请谨慎操作并做好风险管理
4. **数据延迟**：实时数据可能有几秒延迟
5. **API限制**：币安API有请求频率限制，建议检查间隔不要太短

## 🔧 故障排查

### 无法连接交易所
- 检查网络连接
- 确认代理配置正确
- 尝试更换代理端口

### 指标计算为空
- 确保获取到足够的K线数据（至少30条）
- 检查config.json配置是否正确

### Streamlit界面无法打开
- 确认已安装streamlit：`pip install streamlit`
- 检查是否有端口冲突
- 尝试指定端口运行：`streamlit run streamlit_app.py --server.port 8501`

## 📞 技术支持

如有问题，请检查：
1. Python版本 >= 3.7
2. 所有依赖包已正确安装
3. config.json配置正确
4. 网络和代理设置正常

## 📄 开源协议

本项目仅供学习和研究使用。

---

**免责声明**：本系统仅提供技术分析工具，不构成任何投资建议。加密货币交易存在极高风险，可能导致全部本金损失。使用本系统进行交易的一切后果由用户自行承担。
